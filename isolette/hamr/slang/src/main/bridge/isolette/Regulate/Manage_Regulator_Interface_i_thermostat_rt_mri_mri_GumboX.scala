// #Sireum

package isolette.Regulate

import org.sireum._
import isolette._

// Do not edit this file as it will be overwritten if HAMR codegen is rerun
object Manage_Regulator_Interface_i_thermostat_rt_mri_mri_GumboX {
  /** Initialize Entrypoint Contract
    *
    * guarantee RegulatorStatusIsInitiallyInit
    * @param api_regulator_status outgoing data port
    */
  @strictpure def initialize_RegulatorStatusIsInitiallyInit (
      api_regulator_status: Isolette_Data_Model.Status.Type): B =
    api_regulator_status == Isolette_Data_Model.Status.Init_Status

  /** IEP-Guar: Initialize Entrypoint Contracts for mri
    *
    * @param api_displayed_temp outgoing data port
    * @param api_interface_failure outgoing data port
    * @param api_lower_desired_temp outgoing data port
    * @param api_regulator_status outgoing data port
    * @param api_upper_desired_temp outgoing data port
    */
  @strictpure def initialize_IEP_Guar (
      api_displayed_temp: Isolette_Data_Model.Temp_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i,
      api_lower_desired_temp: Isolette_Data_Model.Temp_i,
      api_regulator_status: Isolette_Data_Model.Status.Type,
      api_upper_desired_temp: Isolette_Data_Model.Temp_i): B =
    initialize_RegulatorStatusIsInitiallyInit(api_regulator_status)

  /** IEP-Post: Initialize Entrypoint Post-Condition
    *
    * @param api_displayed_temp outgoing data port
    * @param api_interface_failure outgoing data port
    * @param api_lower_desired_temp outgoing data port
    * @param api_regulator_status outgoing data port
    * @param api_upper_desired_temp outgoing data port
    */
  @strictpure def inititialize_IEP_Post (
      api_displayed_temp: Isolette_Data_Model.Temp_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i,
      api_lower_desired_temp: Isolette_Data_Model.Temp_i,
      api_regulator_status: Isolette_Data_Model.Status.Type,
      api_upper_desired_temp: Isolette_Data_Model.Temp_i): B =
    (// D-Inv-Guard: Datatype invariants for the types associated with mri's state variables and outgoing ports
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_displayed_temp) &
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_lower_desired_temp) &
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_upper_desired_temp) & 

     // IEP-Guar: Initialize Entrypoint contract for mri
     initialize_IEP_Guar(api_displayed_temp, api_interface_failure, api_lower_desired_temp, api_regulator_status, api_upper_desired_temp))

  /** IEP-Post: Initialize Entrypoint Post-Condition via container
    *
    * @param post Container holding the value of incoming ports and the pre-state values of state variables
    */
  @strictpure def inititialize_IEP_Post_Container (post: Manage_Regulator_Interface_i_thermostat_rt_mri_mri_PostState_Container_PS): B =
    inititialize_IEP_Post (
      api_displayed_temp = post.api_displayed_temp,
      api_interface_failure = post.api_interface_failure,
      api_lower_desired_temp = post.api_lower_desired_temp,
      api_regulator_status = post.api_regulator_status,
      api_upper_desired_temp = post.api_upper_desired_temp)

  /** Compute Entrypoint Contract
    *
    * assume lower_is_not_higher_than_upper
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    */
  @strictpure def compute_spec_lower_is_not_higher_than_upper_assume(
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i): B =
    api_lower_desired_tempWstatus.degrees <= api_upper_desired_tempWstatus.degrees

  /** CEP-T-Assm: Top-level assume contracts for mri's compute entrypoint
    *
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    */
  @strictpure def compute_CEP_T_Assm (
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i): B =
    compute_spec_lower_is_not_higher_than_upper_assume(api_lower_desired_tempWstatus, api_upper_desired_tempWstatus)

  /** CEP-Pre: Compute Entrypoint Pre-Condition for mri
    *
    * @param api_current_tempWstatus incoming data port
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_regulator_mode incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    */
  @strictpure def compute_CEP_Pre (
      api_current_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i): B =
    (// D-Inv-Guard: Datatype invariants for the types associated with mri's state variables and incoming ports
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_current_tempWstatus) & 
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_lower_desired_tempWstatus) & 
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_upper_desired_tempWstatus) & 

     // CEP-Assm: assume clauses of mri's compute entrypoint
     compute_CEP_T_Assm (api_lower_desired_tempWstatus, api_upper_desired_tempWstatus))

  /** CEP-Pre: Compute Entrypoint Pre-Condition for mri via container
    *
    * @param pre Container holding the value of incoming ports and the pre-state values of state variables
    */
  @strictpure def compute_CEP_Pre_Container(pre: Manage_Regulator_Interface_i_thermostat_rt_mri_mri_PreState_Container_PS): B =
    compute_CEP_Pre(
      api_current_tempWstatus = pre.api_current_tempWstatus,
      api_lower_desired_tempWstatus = pre.api_lower_desired_tempWstatus,
      api_regulator_mode = pre.api_regulator_mode,
      api_upper_desired_tempWstatus = pre.api_upper_desired_tempWstatus)

  /** guarantee REQ_MRI_1
    *   If the Regulator Mode is INIT,
    *   the Regulator Status shall be set to Init.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=107 
    * @param api_regulator_mode incoming data port
    * @param api_regulator_status outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_1(
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_regulator_status: Isolette_Data_Model.Status.Type): B =
    (api_regulator_mode == Isolette_Data_Model.Regulator_Mode.Init_Regulator_Mode) ___>:
      (api_regulator_status == Isolette_Data_Model.Status.Init_Status)

  /** guarantee REQ_MRI_2
    *   If the Regulator Mode is NORMAL,
    *   the Regulator Status shall be set to On
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=107 
    * @param api_regulator_mode incoming data port
    * @param api_regulator_status outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_2(
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_regulator_status: Isolette_Data_Model.Status.Type): B =
    (api_regulator_mode == Isolette_Data_Model.Regulator_Mode.Normal_Regulator_Mode) ___>:
      (api_regulator_status == Isolette_Data_Model.Status.On_Status)

  /** guarantee REQ_MRI_3
    *   If the Regulator Mode is FAILED,
    *   the Regulator Status shall be set to Failed.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=107 
    * @param api_regulator_mode incoming data port
    * @param api_regulator_status outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_3(
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_regulator_status: Isolette_Data_Model.Status.Type): B =
    (api_regulator_mode == Isolette_Data_Model.Regulator_Mode.Failed_Regulator_Mode) ___>:
      (api_regulator_status == Isolette_Data_Model.Status.Failed_Status)

  /** guarantee REQ_MRI_4
    *   If the Regulator Mode is NORMAL, the
    *   Display Temperature shall be set to the value of the
    *   Current Temperature rounded to the nearest integer.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    * @param api_current_tempWstatus incoming data port
    * @param api_regulator_mode incoming data port
    * @param api_displayed_temp outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_4(
      api_current_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_displayed_temp: Isolette_Data_Model.Temp_i): B =
    (api_regulator_mode == Isolette_Data_Model.Regulator_Mode.Normal_Regulator_Mode) ___>:
      (api_displayed_temp.degrees == api_current_tempWstatus.degrees)

  /** guarantee REQ_MRI_5
    *   If the Regulator Mode is not NORMAL,
    *   the value of the Display Temperature is UNSPECIFIED.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    */
  @strictpure def compute_case_REQ_MRI_5(
      ): B =
    (T) ___>:
      (T)

  /** guarantee REQ_MRI_6
    *   If the Status attribute of the Lower Desired Temperature
    *   or the Upper Desired Temperature is Invalid,
    *   the Regulator Interface Failure shall be set to True.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    * @param api_upper_desired_tempWstatus incoming data port
    * @param api_interface_failure outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_6(
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i): B =
    (api_upper_desired_tempWstatus.status != Isolette_Data_Model.ValueStatus.Valid |
      api_upper_desired_tempWstatus.status != Isolette_Data_Model.ValueStatus.Valid) ___>:
      (api_interface_failure.flag)

  /** guarantee REQ_MRI_7
    *   If the Status attribute of the Lower Desired Temperature
    *   and the Upper Desired Temperature is Valid,
    *   the Regulator Interface Failure shall be set to False.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    * @param api_interface_failure outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_7(
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i): B =
    (T) ___>:
      (api_interface_failure.flag == !(api_upper_desired_tempWstatus.status == Isolette_Data_Model.ValueStatus.Valid &
         api_lower_desired_tempWstatus.status == Isolette_Data_Model.ValueStatus.Valid))

  /** guarantee REQ_MRI_8
    *   If the Regulator Interface Failure is False,
    *   the Desired Range shall be set to the Desired Temperature Range.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    * @param api_interface_failure outgoing data port
    * @param api_lower_desired_temp outgoing data port
    * @param api_upper_desired_temp outgoing data port
    */
  @strictpure def compute_case_REQ_MRI_8(
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i,
      api_lower_desired_temp: Isolette_Data_Model.Temp_i,
      api_upper_desired_temp: Isolette_Data_Model.Temp_i): B =
    (T) ___>:
      (!(api_interface_failure.flag) __>:
         api_lower_desired_temp.degrees == api_lower_desired_tempWstatus.degrees &
           api_upper_desired_temp.degrees == api_upper_desired_tempWstatus.degrees)

  /** guarantee REQ_MRI_9
    *   If the Regulator Interface Failure is True,
    *   the Desired Range is UNSPECIFIED.
    *   the Desired Range shall be set to the Desired Temperature Range.
    *   http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=108 
    */
  @strictpure def compute_case_REQ_MRI_9(
      ): B =
    (T) ___>:
      (T)

  /** CEP-T-Case: Top-Level case contracts for mri's compute entrypoint
    *
    * @param api_current_tempWstatus incoming data port
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_regulator_mode incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    * @param api_displayed_temp outgoing data port
    * @param api_interface_failure outgoing data port
    * @param api_lower_desired_temp outgoing data port
    * @param api_regulator_status outgoing data port
    * @param api_upper_desired_temp outgoing data port
    */
  @strictpure def compute_CEP_T_Case (
      api_current_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_displayed_temp: Isolette_Data_Model.Temp_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i,
      api_lower_desired_temp: Isolette_Data_Model.Temp_i,
      api_regulator_status: Isolette_Data_Model.Status.Type,
      api_upper_desired_temp: Isolette_Data_Model.Temp_i): B =
    compute_case_REQ_MRI_1(api_regulator_mode, api_regulator_status) &
    compute_case_REQ_MRI_2(api_regulator_mode, api_regulator_status) &
    compute_case_REQ_MRI_3(api_regulator_mode, api_regulator_status) &
    compute_case_REQ_MRI_4(api_current_tempWstatus, api_regulator_mode, api_displayed_temp) &
    compute_case_REQ_MRI_5() &
    compute_case_REQ_MRI_6(api_upper_desired_tempWstatus, api_interface_failure) &
    compute_case_REQ_MRI_7(api_lower_desired_tempWstatus, api_upper_desired_tempWstatus, api_interface_failure) &
    compute_case_REQ_MRI_8(api_lower_desired_tempWstatus, api_upper_desired_tempWstatus, api_interface_failure, api_lower_desired_temp, api_upper_desired_temp) &
    compute_case_REQ_MRI_9()

  /** CEP-Post: Compute Entrypoint Post-Condition for mri
    *
    * @param api_current_tempWstatus incoming data port
    * @param api_lower_desired_tempWstatus incoming data port
    * @param api_regulator_mode incoming data port
    * @param api_upper_desired_tempWstatus incoming data port
    * @param api_displayed_temp outgoing data port
    * @param api_interface_failure outgoing data port
    * @param api_lower_desired_temp outgoing data port
    * @param api_regulator_status outgoing data port
    * @param api_upper_desired_temp outgoing data port
    */
  @strictpure def compute_CEP_Post (
      api_current_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_lower_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_regulator_mode: Isolette_Data_Model.Regulator_Mode.Type,
      api_upper_desired_tempWstatus: Isolette_Data_Model.TempWstatus_i,
      api_displayed_temp: Isolette_Data_Model.Temp_i,
      api_interface_failure: Isolette_Data_Model.Failure_Flag_i,
      api_lower_desired_temp: Isolette_Data_Model.Temp_i,
      api_regulator_status: Isolette_Data_Model.Status.Type,
      api_upper_desired_temp: Isolette_Data_Model.Temp_i): B =
    (// D-Inv-Guard: Datatype invariants for the types associated with mri's state variables and outgoing ports
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_current_tempWstatus) & 
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_lower_desired_tempWstatus) & 
     Isolette_Data_Model.TempWstatus_i.D_Inv_TempWstatus_i(api_upper_desired_tempWstatus) & 
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_displayed_temp) & 
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_lower_desired_temp) & 
     Isolette_Data_Model.Temp_i.D_Inv_Temp_i(api_upper_desired_temp) & 

     // CEP-T-Case: case clauses of mri's compute entrypoint
     compute_CEP_T_Case (api_current_tempWstatus, api_lower_desired_tempWstatus, api_regulator_mode, api_upper_desired_tempWstatus, api_displayed_temp, api_interface_failure, api_lower_desired_temp, api_regulator_status, api_upper_desired_temp))

  /** CEP-Post: Compute Entrypoint Post-Condition for mri via containers
    *
    * @param pre Container holding the values of incoming ports and the pre-state values of state variables
    * @param post Container holding the values of outgoing ports and the post-state values of state variables
    */
  @strictpure def compute_CEP_Post_Container(
      pre: Manage_Regulator_Interface_i_thermostat_rt_mri_mri_PreState_Container_PS,
      post: Manage_Regulator_Interface_i_thermostat_rt_mri_mri_PostState_Container_PS): B =
    compute_CEP_Post(
      api_current_tempWstatus = pre.api_current_tempWstatus,
      api_lower_desired_tempWstatus = pre.api_lower_desired_tempWstatus,
      api_regulator_mode = pre.api_regulator_mode,
      api_upper_desired_tempWstatus = pre.api_upper_desired_tempWstatus,
      api_displayed_temp = post.api_displayed_temp,
      api_interface_failure = post.api_interface_failure,
      api_lower_desired_temp = post.api_lower_desired_temp,
      api_regulator_status = post.api_regulator_status,
      api_upper_desired_temp = post.api_upper_desired_temp)
}
