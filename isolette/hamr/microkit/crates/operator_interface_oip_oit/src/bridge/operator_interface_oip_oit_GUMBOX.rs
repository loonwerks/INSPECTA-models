// Do not edit this file as it will be overwritten if codegen is rerun

use data::*;

macro_rules! implies {
  ($lhs: expr, $rhs: expr) => {
    !$lhs || $rhs
  };
}

macro_rules! impliesL {
  ($lhs: expr, $rhs: expr) => {
    !$lhs | $rhs
  };
}

pub fn Allowed_UpperAlarmTempWStatus(upper: Isolette_Data_Model::TempWstatus_i) -> bool
{
  GUMBO_Library::Allowed_UpperAlarmTempWStatus(upper)
}

/** I-Guar: Integration constraint on oit's outgoing data port lower_alarm_tempWstatus
  *
  * guarantee Allowed_LowerAlarmTempWstatus
  *  Table_A_12_LowerAlarmTemp: Range [96..101]:
  *  http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=112 
  */
pub fn I_Guar_lower_alarm_tempWstatus(lower_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  impliesL!(
    GUMBO_Library::isValidTempWstatus(lower_alarm_tempWstatus),
    (96i32 <= lower_alarm_tempWstatus.degrees) &
      (lower_alarm_tempWstatus.degrees <= 101i32))
}

/** I-Guar: Integration constraint on oit's outgoing data port upper_alarm_tempWstatus
  *
  * guarantee Allowed_UpperAlarmTempWstatus
  *  Table_A_12_UpperAlarmTemp: Range [97..102]
  *  http://pub.santoslab.org/high-assurance/module-requirements/reading/FAA-DoT-Requirements-AR-08-32.pdf#page=112 
  */
pub fn I_Guar_upper_alarm_tempWstatus(upper_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  Allowed_UpperAlarmTempWStatus(upper_alarm_tempWstatus)
}

/** IEP-Post: Initialize Entrypoint Post-Condition
  *
  * @param api_lower_alarm_tempWstatus outgoing data port
  * @param api_lower_desired_tempWstatus outgoing data port
  * @param api_upper_alarm_tempWstatus outgoing data port
  * @param api_upper_desired_tempWstatus outgoing data port
  */
pub fn initialize_IEP_Post(
  api_lower_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_lower_desired_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_desired_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  // I-Guar-Guard: Integration constraints for oit's outgoing ports"
  I_Guar_lower_alarm_tempWstatus(api_lower_alarm_tempWstatus) &
  I_Guar_upper_alarm_tempWstatus(api_upper_alarm_tempWstatus)
}

/** Compute Entrypoint Contract
  *
  * guarantee Allowed_AlarmTempWStatus_Ranges
  *   An integration constraint can only refer to a single port, so need a general requires
  *   clause to relate the lower and upper temps
  * @param api_lower_alarm_tempWstatus outgoing data port
  * @param api_upper_alarm_tempWstatus outgoing data port
  */
pub fn compute_spec_Allowed_AlarmTempWStatus_Ranges_guarantee(
  api_lower_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  GUMBO_Library::Allowed_AlarmTempWStatus_Ranges(api_lower_alarm_tempWstatus, api_upper_alarm_tempWstatus)
}

/** CEP-T-Guar: Top-level guarantee contracts for oit's compute entrypoint
  *
  * @param api_lower_alarm_tempWstatus outgoing data port
  * @param api_upper_alarm_tempWstatus outgoing data port
  */
pub fn compute_CEP_T_Guar(
  api_lower_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  let r0: bool = compute_spec_Allowed_AlarmTempWStatus_Ranges_guarantee(api_lower_alarm_tempWstatus, api_upper_alarm_tempWstatus);

  return r0;
}

/** CEP-Post: Compute Entrypoint Post-Condition for oit
  *
  * @param api_alarm_control incoming data port
  * @param api_display_temperature incoming data port
  * @param api_monitor_status incoming data port
  * @param api_regulator_status incoming data port
  * @param api_lower_alarm_tempWstatus outgoing data port
  * @param api_lower_desired_tempWstatus outgoing data port
  * @param api_upper_alarm_tempWstatus outgoing data port
  * @param api_upper_desired_tempWstatus outgoing data port
  */
pub fn compute_CEP_Post(
  api_alarm_control: Isolette_Data_Model::On_Off,
  api_display_temperature: Isolette_Data_Model::Temp_i,
  api_monitor_status: Isolette_Data_Model::Status,
  api_regulator_status: Isolette_Data_Model::Status,
  api_lower_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_lower_desired_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_alarm_tempWstatus: Isolette_Data_Model::TempWstatus_i,
  api_upper_desired_tempWstatus: Isolette_Data_Model::TempWstatus_i) -> bool
{
  // I-Guar-Guard: Integration constraints for oit's outgoing ports
  let r0: bool = I_Guar_lower_alarm_tempWstatus(api_lower_alarm_tempWstatus);
  let r1: bool = I_Guar_upper_alarm_tempWstatus(api_upper_alarm_tempWstatus);

  // CEP-Guar: guarantee clauses of oit's compute entrypoint
  let r2: bool = compute_CEP_T_Guar(api_lower_alarm_tempWstatus, api_upper_alarm_tempWstatus);

  return r0 && r1 && r2;
}
