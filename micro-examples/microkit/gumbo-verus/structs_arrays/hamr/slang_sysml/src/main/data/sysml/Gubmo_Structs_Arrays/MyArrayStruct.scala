// #Sireum

package sysml.Gubmo_Structs_Arrays

import org.sireum._
import sysml._

// Do not edit this file as it will be overwritten if HAMR codegen is rerun

object MyArrayStruct {
  // Import I's interpolator to create instances of I.  For e.g.,
  //   import Gubmo_Structs_Arrays.MyArrayStruct.I._
  //   object Example {
  //     val array: Gubmo_Structs_Arrays.MyArrayStruct = Gubmo_Structs_Arrays.MyArrayStruct.example()
  //     val elem: Gubmo_Structs_Arrays.MyStruct2_i = array(i"0")
  //     ...
  //
  // Use the I30F6A8 method when using multiple <array-def>.I indexing types in the same
  // context.  Alternatively, rename the I's and use their fromZ methods.  For e.g.
  //   import Gubmo_Structs_Arrays.MyArrayStruct.{I => I0}
  //   import <other-array-def>.{I => I1}
  //   object Example {
  //     val value: Gubmo_Structs_Arrays.MyArrayStruct.I = I0.fromZ(0)
  //     ...

  @range(min = 0, max = 9, index = T) class I

  @pure def I30F6A8(z: Z): I = {
    Contract(
      Requires(I.Min.toZ <= z && z <= I.Max.toZ),
      Ensures(Res[I].toZ == z)
    )
    return I.fromZ(z)
  }

  def example(): Gubmo_Structs_Arrays.MyArrayStruct = {
    return Gubmo_Structs_Arrays.MyArrayStruct(
      value = IS.create[I, Gubmo_Structs_Arrays.MyStruct2_i](10, Gubmo_Structs_Arrays.MyStruct2_i.example()))
  }

  /** invariant __fixedArraySizeInvariant
    */
  @strictpure def __fixedArraySizeInvariant(value: Gubmo_Structs_Arrays.MyArrayStruct): B =
    value.value.size == 10


  /** D-Inv Data Invariant for Gubmo_Structs_Arrays.MyArrayStruct
    */
  @strictpure def D_Inv_MyArrayStruct(value: Gubmo_Structs_Arrays.MyArrayStruct): B =
    (__fixedArraySizeInvariant(value))

  /** D-Inv-Guard Data Invariant for Gubmo_Structs_Arrays.MyArrayStruct
    */
  @strictpure def D_Inv_Guard_MyArrayStruct(value: Option[Gubmo_Structs_Arrays.MyArrayStruct]): B =
    value.nonEmpty ___>: D_Inv_MyArrayStruct(value.get)
}

@datatype class MyArrayStruct(
  val value: IS[MyArrayStruct.I, Gubmo_Structs_Arrays.MyStruct2_i]) {
  @spec def __fixedArraySizeInvariant = Invariant(value.size == 10)
}

object MyArrayStruct_Payload {
  def example(): MyArrayStruct_Payload = {
    return MyArrayStruct_Payload(Gubmo_Structs_Arrays.MyArrayStruct.example())
  }
}

@datatype class MyArrayStruct_Payload(value: Gubmo_Structs_Arrays.MyArrayStruct) extends art.DataContent
