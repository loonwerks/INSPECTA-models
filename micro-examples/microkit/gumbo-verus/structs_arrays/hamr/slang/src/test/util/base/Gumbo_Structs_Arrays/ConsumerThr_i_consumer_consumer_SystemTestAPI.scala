// #Sireum

package base.Gumbo_Structs_Arrays

import org.sireum._
import art._
import base.SystemTestSuiteSlang.runtimeMonitorStream
import base._

// Do not edit this file as it will be overwritten if HAMR codegen is rerun

object ConsumerThr_i_consumer_consumer_SystemTestAPI {
  /** helper method to set the values of all incoming ports
    * @param api_MyArrayInt32 incoming event data port
    * @param api_MyArrayStruct incoming event data port
    * @param api_myStructArray incoming event data port
    */
  def put_concrete_inputs(api_MyArrayInt32: Option[Gumbo_Structs_Arrays.MyArrayInt32],
                          api_MyArrayStruct: Option[Gumbo_Structs_Arrays.MyArrayStruct],
                          api_myStructArray: Option[Gumbo_Structs_Arrays.MyStructArray_i]): Unit = {
    put_MyArrayInt32(api_MyArrayInt32)
    put_MyArrayStruct(api_MyArrayStruct)
    put_myStructArray(api_myStructArray)
  }

  // setter for incoming event data port
  def put_MyArrayInt32(value: Option[Gumbo_Structs_Arrays.MyArrayInt32]): Unit = {
    value match {
      case Some(v) => Art.insertInInfrastructurePort(Arch.Sys_i_Instance_consumer_consumer.operational_api.MyArrayInt32_Id, Gumbo_Structs_Arrays.MyArrayInt32_Payload(v))
      case _ =>
    }
  }

  // setter for incoming event data port
  def put_MyArrayStruct(value: Option[Gumbo_Structs_Arrays.MyArrayStruct]): Unit = {
    value match {
      case Some(v) => Art.insertInInfrastructurePort(Arch.Sys_i_Instance_consumer_consumer.operational_api.MyArrayStruct_Id, Gumbo_Structs_Arrays.MyArrayStruct_Payload(v))
      case _ =>
    }
  }

  // setter for incoming event data port
  def put_myStructArray(value: Option[Gumbo_Structs_Arrays.MyStructArray_i]): Unit = {
    value match {
      case Some(v) => Art.insertInInfrastructurePort(Arch.Sys_i_Instance_consumer_consumer.operational_api.myStructArray_Id, Gumbo_Structs_Arrays.MyStructArray_i_Payload(v))
      case _ =>
    }
  }

  def fetchContainer(): base.Gumbo_Structs_Arrays.ConsumerThr_i_consumer_consumer_PostState_Container_PS = {
    if (runtimeMonitorStream.contains(Arch.Sys_i_Instance_consumer_consumer.id)) {
      val (_, postContainer_) = runtimeMonitorStream.get(Arch.Sys_i_Instance_consumer_consumer.id).get
      return postContainer_.asInstanceOf[base.Gumbo_Structs_Arrays.ConsumerThr_i_consumer_consumer_PostState_Container_PS]
    }
    else {
      assert(F, s"No post state recorded for ${Arch.Sys_i_Instance_consumer_consumer.name}")
      halt(s"No post state recorded for ${Arch.Sys_i_Instance_consumer_consumer.name}")
    }
  }

  def check_concrete_outputs(): Unit = {
    var failureReasons: ISZ[ST] = ISZ()


    assert(failureReasons.isEmpty, st"${(failureReasons, "\n")}".render)
  }


}