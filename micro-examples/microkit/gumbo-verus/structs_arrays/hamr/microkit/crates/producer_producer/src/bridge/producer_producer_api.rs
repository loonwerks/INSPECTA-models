// Do not edit this file as it will be overwritten if codegen is rerun

use vstd::prelude::*;
use data::*;
use super::extern_c_api as extern_api;

verus! {
  pub trait producer_producer_Api {}

  pub trait producer_producer_Put_Api: producer_producer_Api {
    #[verifier::external_body]
    fn unverified_put_myStruct(
      &mut self,
      value: Aadl_Datatypes_System::MyStruct_i)
    {
      extern_api::unsafe_put_myStruct(&value);
    }

    #[verifier::external_body]
    fn unverified_put_MyArrayStruct1(
      &mut self,
      value: Aadl_Datatypes_System::MyArrayStruct)
    {
      extern_api::unsafe_put_MyArrayStruct1(&value);
    }
  }

  pub trait producer_producer_Get_Api: producer_producer_Api {
  }

  pub trait producer_producer_Full_Api: producer_producer_Put_Api + producer_producer_Get_Api {}

  pub struct producer_producer_Application_Api<API: producer_producer_Api> {
    pub api: API,

    pub ghost myStruct: Option<Aadl_Datatypes_System::MyStruct_i>,
    pub ghost MyArrayStruct1: Option<Aadl_Datatypes_System::MyArrayStruct>
  }

  impl<API: producer_producer_Put_Api> producer_producer_Application_Api<API> {
    pub fn put_myStruct(
      &mut self,
      value: Aadl_Datatypes_System::MyStruct_i)
      ensures
        self.myStruct == Some(value),
        old(self).MyArrayStruct1 == self.MyArrayStruct1
    {
      self.api.unverified_put_myStruct(value);
      self.myStruct = Some(value);
    }
    pub fn put_MyArrayStruct1(
      &mut self,
      value: Aadl_Datatypes_System::MyArrayStruct)
      ensures
        old(self).myStruct == self.myStruct,
        self.MyArrayStruct1 == Some(value)
    {
      self.api.unverified_put_MyArrayStruct1(value);
      self.MyArrayStruct1 = Some(value);
    }
  }

  impl<API: producer_producer_Get_Api> producer_producer_Application_Api<API> {
  }

  pub struct producer_producer_Initialization_Api;
  impl producer_producer_Api for producer_producer_Initialization_Api {}
  impl producer_producer_Put_Api for producer_producer_Initialization_Api {}

  pub const fn init_api() -> producer_producer_Application_Api<producer_producer_Initialization_Api> {
    return producer_producer_Application_Api {
      api: producer_producer_Initialization_Api {},

      myStruct: None,
      MyArrayStruct1: None
    }
  }

  pub struct producer_producer_Compute_Api;
  impl producer_producer_Api for producer_producer_Compute_Api {}
  impl producer_producer_Put_Api for producer_producer_Compute_Api {}
  impl producer_producer_Get_Api for producer_producer_Compute_Api {}
  impl producer_producer_Full_Api for producer_producer_Compute_Api {}

  pub const fn compute_api() -> producer_producer_Application_Api<producer_producer_Compute_Api> {
    return producer_producer_Application_Api {
      api: producer_producer_Compute_Api {},

      myStruct: None,
      MyArrayStruct1: None
    }
  }
}